
<body>
    <div class="page-container">
        <aside class="sidebar-nav" id="sidebar">
            <a href="https://zhidianworld.com/write/" class="nav-link">
                <div class="nav-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em"
                        fill="currentColor" viewBox="0 0 24 24">
                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" />
                        <path d="M12 12V4h6l4 4v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-2h12a2 2 0 0 0
                            2-2V12z" />
                    </svg>
                </div>
                <span class="nav-text">作品列表</span>
            </a>

            <a href="#" class="nav-link active">
                <div class="nav-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em"
                        fill="currentColor" viewBox="0 0 24 24">
                        <path
                            d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 15H9V9h2v8zm4 0h-2V9h2v8z" />
                    </svg>
                </div>
                <span class="nav-text">共享素材库</span>
            </a>

            <a href="https://zhidianworld.com/usercenter/" class="nav-link">
                <div class="nav-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em"
                        fill="currentColor" viewBox="0 0 24 24">
                        <path
                            d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z" />
                    </svg>
                </div>
                <span class="nav-text">个人中心</span>
            </a>

            <a href="https://zhidianworld.com/home/" class="nav-link">
                <div class="nav-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em"
                        fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 15h2v-8h-2v8zm4 0h-2v-8h2v8z" />
                    </svg>
                </div>
                <span class="nav-text">安科阅读</span>
            </a>

            <a href="#" class="nav-link" id="logout-btn">
                <div class="nav-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em"
                        fill="currentColor" viewBox="0 0 24 24">
                        <path
                            d="M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5-5-5zm-8 4H2v2h7v-2zM4 22h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2z" />
                    </svg>
                </div>
                <span class="nav-text">退出登录</span>
            </a>
        </aside>

        <main id="main-page" class="main-content">
           <div class="content-header">
                <div class="header-left">
                    <div class="header-title">
                        <h2>共享图库</h2>
                    </div>
                    <button class="create-button" id="upload-btn">
                        <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em"
                            fill="currentColor" viewBox="0 0 24 24">
                            <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z" />
                        </svg>
                        <span>本地上传</span>
                    </button>
                </div>
            </div>

            <div id="upload-modal" class="modal">
                <div class="modal-content">
                    <h3>上传图库</h3>
                    <input type="text" id="gallery-name-input" placeholder="请输入图库名称" maxlength="30">
                    
                    <div class="image-upload-area">
                        <p>点击或拖拽图片到此区域</p>
                        <div class="image-previews" id="image-previews">
                            </div>
                        <label for="file-input" class="upload-button">+</label>
                        <input type="file" id="file-input" multiple accept="image/*" style="display: none;">
                    </div>

                  <!-- ✅ 全局压缩进度栏 -->
<div id="global-progress-container" style="display:none; margin-top:8px; text-align:center;">
  <div id="global-progress-text" style="font-size:0.9rem; color:#555;">压缩中：0 / 0 (0%)</div>
  <div style="width:80%; margin:5px auto; background:#eee; border-radius:6px; height:8px; overflow:hidden;">
    <div id="global-progress-bar" style="width:0%; height:100%; background:#0077cc; transition:width 0.2s ease;"></div>
  </div>
  <button id="cancel-compress-btn" style="
      margin-top:6px;
      font-size:0.8rem;
      color:#c00;
      background:none;
      border:1px solid #c00;
      border-radius:4px;
      padding:2px 8px;
      cursor:pointer;">取消上传</button>
</div>


                    <div class="cover-selection-area">
                        <p>选择封面:</p>
                        <div id="cover-thumbnails" class="cover-thumbnails">
                            </div>
                    </div>

                    <div class="modal-buttons">
                        <button id="cancel-upload-btn">取消</button>
                        <button id="confirm-upload-btn">确定</button>
                    </div>
                </div>
            </div>
            
            <div id="gallery-list-container" class="gallery-list">
                </div>
        </main>
    </div>
  <!-- ✅ 全局下载进度条 -->
<div id="download-progress-container" style="
  display:none;
  position:fixed;
  top:40%;
  left:50%;
  transform:translate(-50%, -50%);
  width:320px;
  background:#fff;
  border:1px solid #ccc;
  box-shadow:0 4px 10px rgba(0,0,0,0.2);
  border-radius:8px;
  text-align:center;
  padding:20px;
  z-index:2000;
">
  <p id="download-progress-text" style="margin:0 0 8px; font-size:0.9rem; color:#555;">正在下载：0 / 0 (0%)</p>
  <div style="width:90%; margin:0 auto; height:8px; background:#eee; border-radius:5px; overflow:hidden;">
    <div id="download-progress-bar" style="width:0%; height:100%; background:#0077cc; transition:width 0.2s ease;"></div>
  </div>
</div>
  <!-- ✅ 全局素材库加载进度条 -->
<div id="gallery-load-progress-container" style="
  display:none;
  position:fixed;
  top:45%;
  left:50%;
  transform:translate(-50%, -50%);
  width:320px;
  background:#fff;
  border:1px solid #ccc;
  border-radius:8px;
  box-shadow:0 4px 10px rgba(0,0,0,0.2);
  text-align:center;
  padding:20px;
  z-index:2000;
">
  <p id="gallery-load-progress-text" style="margin:0 0 8px; font-size:0.9rem; color:#555;">正在加载图库...</p>
  <div style="width:90%; margin:0 auto; height:8px; background:#eee; border-radius:5px; overflow:hidden;">
    <div id="gallery-load-progress-bar" style="width:0%; height:100%; background:#0077cc; transition:width 0.2s ease;"></div>
  </div>
</div>

</body>